(this["webpackJsonpbranch-routing"]=this["webpackJsonpbranch-routing"]||[]).push([[0],{163:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),i=t(118),l=t(25),c=t(6),r=t(55),d=t(34);function s(n){var e={type:"success",content:n};window.AmeyoClient.init().interface.trigger("toastNotification",e)}function f(n){var e={type:"error",content:n};window.AmeyoClient.init().interface.trigger("toastNotification",e)}var u,h,g,m,p,v=function(n,e,t,a,o,i){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return"calc(  min( max(calc( ".concat(a,"px + (").concat(i," - ").concat(a,") * (( ").concat(l||"100vw"," - ").concat(t,"px) / (").concat(o," - ").concat(t,")) ) , ").concat(n,"px), ").concat(e,"px  ) );")},b="branch-routing-data-test3",j={primary:"rgb(59,153,213)",secondary:"rgb(248, 248, 248)",neutral:"rgb(230,238,244)",highlight1:"#EE6C4D",highlight2:"rgb(57, 172, 69)"},x=t(229),O=t(225),y=t(224),w=t(230),C=t(222),A=t(226),I=t(1),N=function(n){var e=n.campaigns,t=n.refresh,i=Object(a.useState)([]),l=Object(c.a)(i,2),r=l[0],d=l[1],u=o.a.useState(""),h=Object(c.a)(u,2),g=h[0],m=h[1],p=o.a.useState(""),v=Object(c.a)(p,2),j=v[0],N=v[1],E=o.a.useState(""),T=Object(c.a)(E,2),D=T[0],P=T[1],R=function(n,e){var t,a,o,i,l;switch(n){case"campaign":m(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),k(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(o=a.value)||void 0===o?void 0:o.campaignId);break;case"branchCode":N(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value);break;case"nodeflow":P(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)}};Object(a.useEffect)((function(){d([]),N("")}),[e]);var k=function(n){var e=window.AmeyoClient.init(),t={url:"ameyorestapi/voice/getAllCampaignDefaultFeatureContextForCampaign?campaignId=".concat(n),headers:{"content-type":"application/json"},method:"GET"};e.httpRequest.invokeAmeyo(t).then((function(n){try{var e=JSON.parse(null===n||void 0===n?void 0:n.response).map((function(n){return{name:n.contextName,id:n.contextId}}));d(e)}catch(t){console.log("FAILED TO Parse CAMPAIGN LIST RESULT"),console.log(n),console.log(t)}})).catch((function(e){console.log("FAILED TO GET NODEFLOW LIST FOR CAMPAIGN ".concat(n)),console.log(e)}))};return Object(I.jsxs)(S,{children:[Object(I.jsx)("div",{className:"module-name",children:Object(I.jsx)("h6",{children:"Branch Routing Module"})}),Object(I.jsxs)("div",{className:"form",children:[Object(I.jsxs)("div",{className:"form-fields",children:[Object(I.jsxs)(w.a,{variant:"standard",sx:{m:1,minWidth:250},children:[Object(I.jsx)(O.a,{id:"field-campaign-label",children:"Campaign"}),Object(I.jsxs)(C.a,{labelId:"field-campaign-label",id:"field-campaign",value:g,onChange:function(n){return R("campaign",n)},label:"Campaign",children:[Object(I.jsx)(y.a,{value:"",children:Object(I.jsx)("em",{children:"None"})}),e.map((function(n){return Object(I.jsx)(y.a,{value:n,children:n.campaignName})}))]})]}),Object(I.jsx)(w.a,{variant:"standard",sx:{m:1,minWidth:250},children:Object(I.jsx)(A.a,{id:"field-branch-code",label:"Branch Code",variant:"standard",value:j,onChange:function(n){return R("branchCode",n)}})}),Object(I.jsxs)(w.a,{variant:"standard",sx:{m:1,minWidth:250},children:[Object(I.jsx)(O.a,{id:"field-nodeflow-label",children:"Nodeflow"}),Object(I.jsxs)(C.a,{labelId:"field-nodeflow-label",id:"field-nodeflow",value:D,onChange:function(n){return R("nodeflow",n)},label:"nodeflow",children:[Object(I.jsx)(y.a,{value:"",children:Object(I.jsx)("em",{children:"None"})}),r.map((function(n){return Object(I.jsx)(y.a,{value:n,children:n.name})}))]})]})]}),Object(I.jsx)("div",{className:"form-action-panel",children:Object(I.jsx)(x.a,{variant:"contained",onClick:function(){var n=window.AmeyoClient.init(),e={customKey:b};n.appConf.get(e).then((function(e){var a,o,i,l,c=(null===e||void 0===e||null===(a=e.records)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.id)>=0?null===e||void 0===e||null===(i=e.records)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.id:-1;if(c>=0){var r,d=JSON.parse(null===e||void 0===e||null===(r=e.records[0])||void 0===r?void 0:r.data);d.push({id:"".concat(null===g||void 0===g?void 0:g.campaignId,"-").concat(j,"-").concat(null===D||void 0===D?void 0:D.id),campaign:g,branchCode:j,nodeflow:D,dateAdded:(new Date).toISOString()});var u={id:c,data:JSON.stringify(d)};n.appConf.update(u).then((function(){s("Record Added")})).catch((function(){f("Failed")}))}else{var h=[];h.push({id:"".concat(null===g||void 0===g?void 0:g.campaignId,"-").concat(j,"-").concat(null===D||void 0===D?void 0:D.id),campaign:g,branchCode:j,nodeflow:D,dateAdded:(new Date).toISOString()});var m={customKey:b,data:JSON.stringify(h)};n.appConf.create(m).then((function(){s("Record Added"),t()})).catch((function(){f("Failed")}))}})).catch((function(n){console.log("FAILED TO GET APP CONF DATA, before save"),console.log(n)}))},children:"Save"})})]})]})},S=r.a.div(u||(u=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    position: relative;\n\n    .module-name {\n      position: absolute;\n      top: 0px;\n      left: 0px;\n      width: 100%;\n      padding: 0px 0px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: ",";\n      h1,h2,h3,h4,h5,h6 {\n        color: #fff;\n        margin: 1rem 0rem;\n      }\n      border-top: 2px solid ",";\n      \n    }\n\n    .form {\n      position: absolute;\n      padding-bottom: 100px;\n      display: grid;\n      align-items: center;\n      justify-content: center;\n\n      .form-fields {\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-row-gap: 24px;\n      }\n\n      .form-action-panel {\n        position: absolute;\n        bottom: 0px;\n        left: 0px;\n        width: 100%;\n        padding: 24px 0px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n\n\n\n"])),j.neutral,j.primary,j.secondary),E=t(221),T=t(126),D=t.n(T),P=t(124),R=t.n(P),k=t(231),F=function(n){var e=n.deleteCallback;return Object(I.jsx)(k.a,{color:"secondary","aria-label":"Delete",onClick:e,children:Object(I.jsx)(R.a,{})})},M=function(n){var e=n.refresh,t=n.tableData,a=n.deleteRecord;console.log("TABLE DATA IN EDITOR:",t);var o=t.map((function(n){var e,t;return{id:(null===n||void 0===n?void 0:n.id)||0,dateAdded:null===n||void 0===n?void 0:n.dateAdded,campaign:null===n||void 0===n||null===(e=n.campaign)||void 0===e?void 0:e.campaignName,branchCode:null===n||void 0===n?void 0:n.branchCode,nodeflow:null===n||void 0===n||null===(t=n.nodeflow)||void 0===t?void 0:t.name}})),i=[{field:"dateAdded",headerName:"Date Added",width:"200",align:"center",headerAlign:"center",headerClassName:"table-column-header"},{field:"campaign",headerName:"Campaign",width:"225",align:"center",headerAlign:"center",headerClassName:"table-column-header"},{field:"branchCode",headerName:"Branch Code",width:"150",align:"center",headerAlign:"center",headerClassName:"table-column-header",editable:!1},{field:"nodeflow",headerName:"Nodeflow",width:"225",align:"center",headerAlign:"center",headerClassName:"table-column-header",editable:!1},{field:"actions",headerName:"",width:"50",align:"center",headerAlign:"center",headerClassName:"table-column-header",editable:!1,renderCell:function(n){return Object(I.jsx)(F,{deleteCallback:function(){var e;a(null===n||void 0===n||null===(e=n.row)||void 0===e?void 0:e.id)}})}}];return Object(I.jsxs)(B,{children:[Object(I.jsx)("div",{className:"table-container",children:Object(I.jsx)(E.a,{disableSelectionOnClick:!0,rows:o,columns:i,onSelectionModelChange:function(n){console.log(n)},getRowClassName:function(n){return n.indexRelativeToCurrentPage%2===0?"even":"odd"},pageSize:10,rowsPerPageOptions:[10]})}),Object(I.jsx)("div",{className:"action-panel",children:Object(I.jsx)(k.a,{color:"primary","aria-label":"Refresh",onClick:e,children:Object(I.jsx)(D.a,{})})})]})},B=r.a.div(h||(h=Object(l.a)(["\n  display: grid;\n  align-content: center;\n  justify-content: center;\n\n  position: relative;\n\n  .table-container {\n    height: 600px;\n    width: 850px;\n    margin-left: auto;\n    margin-right: auto;\n\n    .MuiDataGrid-columnHeaders {\n      background: ",";\n    }\n    .table-column-header {\n      color: #fff;\n      .MuiDataGrid-columnHeaderTitle {\n        font-weight: 600;\n      }\n    }\n    .even {\n      background: ",";\n    }\n  \n    .odd {\n      background: #fff;\n    }\n\n  }\n\n  .action-panel {\n    position: absolute;\n    bottom: 0px;\n    right: 24px;\n    width: 100%;\n    padding: 24px 0px;\n    display: flex;\n    align-items: flex-end;\n    justify-content: flex-end;\n  }\n\n\n"])),j.primary,j.secondary),L="#141416",G="#0E342C",z="#2F695D",J="#314235",K="#00AB88",U=Object(d.b)(g||(g=Object(l.a)(["\n    body {\n        margin: 0px;\n        padding: 0px;\n    }\n\n"]))),W=Object(d.b)(m||(m=Object(l.a)(["\n\n    p {\n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 400;\n        font-size: ',";\n        line-height: 156%;\n        letter-spacing: ",";\n    }\n\n    h1 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    h2 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    h3 {\n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    h4 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    h5 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    h6 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    .button1 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 500;\n        font-size: ',";\n        line-height: ",";\n    }\n\n    .button2 { \n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 600;\n        font-size: ',";\n        line-height: ",";\n        text-transform: uppercase;\n    }\n\n\n    .small-text1 {\n        color: ",';\n        font-family: "IBM Plex Sans", sans-serif;\n        font-style: normal;\n        font-weight: 600;\n        font-size: ',";\n        line-height: ",";\n        letter-spacing: ",";\n\n        &.bold {\n            font-weight: 700;\n            font-size: ",";\n            line-height: ",";\n            letter-spacing: ",";\n        }\n\n        &.semibold {\n            font-weight: 600;\n            font-size: ",";\n            line-height: ",";\n            letter-spacing: ",";\n        }\n    }\n\n"])),J,v(14,18,1200,14,1600,18),v(.384712,.5,1200,.384712,1600,.5),L,v(34,44,1200,34,1600,44),v(44,58,1200,44,1600,58),L,v(28,36,1200,28,1600,36),v(44,58,1200,44,1600,58),G,v(22,28,1200,22,1600,28),v(34,44,1200,34,1600,44),G,v(18,24,1200,18,1600,24),v(29,38,1200,29,1600,38),G,v(16,20,1200,16,1600,20),v(26,32,1200,26,1600,32),G,v(14,18,1200,14,1600,18),v(22,28,1200,22,1600,28),z,v(13,16,1200,13,1600,16),v(21,26,1200,21,1600,26),K,v(13,16,1200,13,1600,16),v(21,26,1200,21,1600,26),z,v(13,16,1200,13,1600,16),v(21,26,1200,21,1600,26),v(.5,.5,1200,.5,1600,.5),v(11,14,1200,11,1600,14),v(17.6,22,1200,17.6,1600,22),v(.5,.5,1200,.5,1600,.5),v(11,14,1200,11,1600,14),v(17.6,22,1200,17.6,1600,22),v(.5,.5,1200,.5,1600,.5)),V=function(){return Object(d.b)([U,W])},q=function(){var n=Object(a.useState)([]),e=Object(c.a)(n,2),t=e[0],o=e[1],i=function(){var n=window.AmeyoClient.init();n.globalData.get("loggedInUser").then((function(e){var t={url:"Administrator"==(null===e||void 0===e?void 0:e.userType)?"ameyorestapi/cc/campaigns/getAllCampaigns":"ameyorestapi/cc/campaigns/getAssigned",headers:{"content-type":"application/json"},method:"GET"};n.httpRequest.invokeAmeyo(t).then((function(n){try{var e=JSON.parse(null===n||void 0===n?void 0:n.response).filter((function(n){return"Interactive Voice Application"==n.campaignType}));o(e)}catch(t){console.log("FAILED TO Parse CAMPAIGN LIST RESULT"),console.log(n),console.log(t)}})).catch((function(n){console.log("FAILED TO RECEIVE CAMPAIGN LIST"),console.log(n)}))})).catch((function(n){console.log("FAILED TO RECEIVE LOGGED IN  USER"),console.log(n)}))},l=Object(a.useState)([]),r=Object(c.a)(l,2),u=r[0],h=r[1],g=function(){var n=window.AmeyoClient.init(),e={customKey:b};n.appConf.get(e).then((function(n){var e,t,a,o;if(((null===n||void 0===n||null===(e=n.records)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.id)>=0?null===n||void 0===n||null===(a=n.records)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.id:-1)>=0){var i,l=JSON.parse(null===n||void 0===n||null===(i=n.records[0])||void 0===i?void 0:i.data);h(l)}})).catch((function(n){console.log("FAILED TO GET APP CONF DATA, tableRefersh"),console.log(n)}))};Object(a.useEffect)((function(){i(),g()}),[]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),Object(I.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),Object(I.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,600&display=swap",rel:"stylesheet"}),Object(I.jsx)(d.a,{styles:V()}),Object(I.jsxs)(H,{children:[Object(I.jsx)(N,{campaigns:t,refresh:function(){g()}}),Object(I.jsx)(M,{tableData:u,refresh:function(){g(),i()},deleteRecord:function(n){var e=window.AmeyoClient.init(),t={customKey:b};e.appConf.get(t).then((function(t){var a,o,i,l,c=(null===t||void 0===t||null===(a=t.records)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.id)>=0?null===t||void 0===t||null===(i=t.records)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.id:-1;if(c>=0){var r,d=JSON.parse(null===t||void 0===t||null===(r=t.records[0])||void 0===r?void 0:r.data).filter((function(e){return e.id!=n})),u={id:c,data:JSON.stringify(d)};e.appConf.update(u).then((function(){s("Record Deleted"),g()})).catch((function(){f("Failed")}))}})).catch((function(n){console.log("FAILED TO GET APP CONF DATA, deleteRecord"),console.log(n)}))}})]})]})},H=r.a.div(p||(p=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 25% auto;\n  grid-row-gap: 48px;\n  grid-column-gap: 12px;\n\n  @media only screen and (max-width: 1200px) {\n    grid-template-columns: 1fr;\n    grid-template-rows: 200px auto;\n  }\n\n  height: 100vh;\n"]))),Q=t(127),X=t(227),Y=Object(Q.a)({palette:{primary:{main:j.primary},secondary:{main:j.highlight1}}}),Z=document.getElementById("root");Object(i.createRoot)(Z).render(Object(I.jsx)(a.StrictMode,{children:Object(I.jsx)(X.a,{theme:Y,children:Object(I.jsx)(q,{})})}))}},[[163,1,2]]]);
//# sourceMappingURL=main.b27c69b6.chunk.js.map